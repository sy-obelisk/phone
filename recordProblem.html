<!DOCTYPE html>
<html ng-app="myApp">
<head lang="en">
    <meta charset="UTF-8">
    <title>GMAT模考_GMAT网络课程_GMAT培训_GMAT机经_雷哥网</title>
    <meta name="keywords" content="雷哥网，雷哥GMAT，雷哥网GMAT在线，GMAT时间，GMAT备考，雷哥GMAT课程，GMAT培训，GMAT在线课程，GMAT网络课程,GMAT网课,GMAT课程，gmat是什么，gmat备考，gmat资料，GMAT视频课程,gmat考试真题,gmat历年真题下载,
    gmat在线课程,gmat网络课程,gmat暑期班,申友GMAT,备考gmat,gmat备考资料,gmat考试资料,考gmat,gmat,gmat数学机经,gmat模考软件,gmat论坛">
    <meta name="description" content="雷哥网GMAT在线(gmatonline),雷哥网GMAT在线培训课程，GMAT培训,GMAT在线课程,GMAT网络课程,GMAT课程,GMAT网课,
    GMAT视频课程,预见你想象的700,大中华区权威一站式GMAT学习生态系统">
    <link rel="icon" href="/app/web_core/styles/images/index-title.png" type="image/x-icon" sizes="16x9"/>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
    <link rel="stylesheet" href="style/css/bootstrap.css"/>
    <link rel="stylesheet" href="style/css/recordProblem.css"/>
    <link rel="stylesheet" href="style/css/public.css"/>
    <link rel="stylesheet" href="style/css/pullToRefresh.css"/>
    <script type="text/javascript" src="style/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="style/js/bootstrap.js"></script>
    <script type="text/javascript" src="style/js/jquery.SuperSlide.2.1.1.js"></script>
    <script type="text/javascript" src="style/js/TouchSlide.1.1.js"></script>
    <script type="text/javascript" src="style/js/public.js"></script>
    <script type="text/javascript" src="style/js/recordProblem.js"></script>
    <script type="text/javascript" src="style/js/iscroll.js"></script>
    <script type="text/javascript" src="style/js/pullToRefresh.js"></script>
    <script type="text/javascript" src="style/js/angular1.3.1.js"></script>
</head>
<body>
<div ng-controller="PriceCtrl">
    <input value="" type="hidden" id="section"/>
    <input value="{{pageSize}}" type="hidden" id="pageSize"/>
    <!-------------------头部搜索--------------------->
    <div class="headGroup">
        <div class="container">
            <div class="row">
                <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 leftLogo">
                    <a href="index.html"><img src="style/images/index_gmatLogo.png" alt="logo"></a>
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    <div class="inputGroup">
                        <span onclick="searchClick(this)" id="iconS"></span>
                        <input type="text" placeholder="搜索GMAT题目" onkeydown="javascript:searchEn(event)"/>
                    </div>
                </div>
                <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 personRight">
                    <img src="style/images/index_person.png" alt="个人中心图标" onclick="personNav(event)" id="personIcon"/>
                </div>
                <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 navRight">
                    <a href="navList.html"><img src="style/images/index_listIcon.png" alt="侧边导航图标"/></a>
                </div>
                <div class="clearBox"></div>
            </div>
        </div>
        <!--个人中心导航栏-->
        <div class="personNav">
            <div class="topUser">
                <div class="col-xs-6 col-sm-6">
                    <div class="userImg">
                        <img src="http://www.gmatonline.cn/{{photo}}" alt="用户头像" id="userImg02"/>
                    </div>
                </div>
                <div class="col-xs-6 col-sm-6">
                    <p>{{nickname}}</p>
                </div>
                <div class="clearBox"></div>
            </div>
            <div class="bottom-list">
                <ul>
                    <li><a href="myCourse.html?status=2">我的课程</a></li>
                    <li><a href="mistakeRecord.html">错题记录</a></li>
                    <li><a href="recordProblem.html?section=6">做题记录</a></li>
                    <li><a href="examRecord.html?type=verbal">模考记录</a></li>
                    <li><a href="vip.html">VIP会员</a></li>
                    <li><a href="javascript:loginOut();">退出登录</a></li>
                </ul>
            </div>
        </div>
    </div>
    <!-------------------蓝色导航--------------------->
    <div class="blueNav">
        <b><a href="user-center.html"> <img src="style/images/index_jiantou.png" alt="白色箭头图标"/></a></b>
        <span>做题记录</span>
    </div>
    <!--正确率-->
    <div class="accuracy">
         <div class="col-xs-6 col-xs-6">
             <div class="resultDiv haveB">
                 <h4>{{num}}</h4>
                 <span>共做题</span>
             </div>
         </div>
         <div class="col-xs-6 col-xs-6">
             <div class="resultDiv haveB">
                 <h4>{{correct}}</h4>
                 <span>正确率</span>
             </div>
         </div>
         <div class="clearBox"></div>
    </div>
    <!--做题结果-->
     <div class="resultContent">
         <div class="resultHd">
             <ul>
                 <li><a href="recordProblem.html?section=6">SC</a></li>
                 <li><a href="recordProblem.html?section=8">CR</a></li>
                 <li><a href="recordProblem.html?section=7">RC</a></li>
                 <li><a href="recordProblem.html?section=4">PS</a></li>
                 <li><a href="recordProblem.html?section=5">DS</a></li>
             </ul>
             <div class="clearBox"></div>
         </div>
         <div class="resultBd">
             <ul>
                 <li>
                     <div class="dataS" id="wrapper">
                         <ul>
                             <li ng-repeat="questionrecordT in questionrecord">
                                 <a href="timuDetails.html?queId={{questionrecordT.questionid}}">
                                     <b>{{questionrecordT.sections}}-{{questionrecordT.questionid}}-{{questionrecordT.twoname}}</b>
                                    <span>{{questionrecordT.qanswer.answertime}}</span>
                                     <p><span ng-class="{'green':'{{questionrecordT.qanswer.qanswer}}'=='{{questionrecordT.questionanswer}}',
                                     'red':'{{questionrecordT.qanswer.qanswer}}'!='{{questionrecordT.questionanswer}}'}">
                                         {{questionrecordT.qanswer.qanswer}}</span>/{{questionrecordT.questionanswer}}</p>
                                 </a>
                             </li>

                             <!--<li>-->
                                 <!--<a href="javascript:void(0);">-->
                                     <!--<b>讲义-SC-4</b>-->
                                     <!--<span>2014-04-23 13:45</span>-->
                                     <!--<p><span class="green">B</span>/D</p>-->
                                 <!--</a>-->
                             <!--</li>-->
                         </ul>
                     </div>
                 </li>
             </ul>

         </div>
     </div>

</div>

<script>
    refresher.init({
        id: "wrapper",
        pullDownAction: Refresh,
        pullUpAction: Load
    });
    var el, li, i, a, b,span, p,span02;
    function Refresh() {
        setTimeout(function () {
            el = document.querySelector("#wrapper ul");
            el.innerHTML = '';
            for (i = 0; i < 11; i++) {
                ajaxFun();
            }
            wrapper.refresh();
        }, 1000);

    }

    function Load() {
        setTimeout(function () {
//            var el, li, i, a, b,span, p,span02;
            el = document.querySelector("#wrapper ul");
//            for (i = 0; i < 2; i++) {
            ajaxFun();
//            }
            wrapper.refresh();
        }, 1000);
    }


    function ajaxFun(){
        var userId=sessionStorage.getItem("userId");
        $.ajax({
            url : 'http://www.gmatonline.cn/index.php?web/appapi/getrecord', // 跳转到 action
            data : {
                userid:userId,
                section:$("#section").val(),
                pageSize:parseInt($("#pageSize").val())+1
            },
            type : 'post',
            cache : false,
            dataType : 'json',
            success : function(data) {
                if(data.lidata){
                    $("#pageSize").val(data.pageSize);
                    $.each(data.lidata,function(k,v){
                        li = document.createElement('li');
                        a = document.createElement('a');
                        b = document.createElement('b');
                        span = document.createElement('span');
                        p = document.createElement('p');
                        span02 = document.createElement('span');
                        span03 = document.createElement('span');

                        b.innerHTML= v.sections+"-"+ v.questionid+"-"+ v.twoname;
                        span.innerHTML= v.qanswer.answertime;
                        span02.innerHTML= v.qanswer.qanswer;
                        span03.innerHTML= '/'+v.questionanswer;
                        if(v.qanswer.qanswer==v.questionanswer){
                            span02.className="green";
                        }else{
                            span02.className="red";
                        }
                        a.appendChild(b);
                        a.appendChild(span);
                        a.appendChild(p);
                        p.appendChild(span02);
                        p.appendChild(span03);
                        li.appendChild(a);
                        el.appendChild(li, el.childNodes[0]);
                    });

                }

            }
        });

    }

</script>
</body>
</html>